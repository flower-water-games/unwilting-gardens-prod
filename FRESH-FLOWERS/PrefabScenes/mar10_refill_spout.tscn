[gd_scene load_steps=9 format=3 uid="uid://be823dx66y1qn"]

[ext_resource type="PackedScene" uid="uid://c5i02euvrmxfy" path="res://FRESH-FLOWERS/Assets/KenneyHex/fantasytown/GLTF format/fountainRound.glb" id="1_dfw81"]
[ext_resource type="Shader" uid="uid://dp0152nr674st" path="res://FRESH-FLOWERS/Shaders/WaterShader.tres" id="1_qahht"]
[ext_resource type="PackedScene" uid="uid://jpkppfsajlyt" path="res://FRESH-FLOWERS/Assets/KenneyHex/fantasytown/GLTF format/fountainRoundDetail.glb" id="2_qb6tr"]
[ext_resource type="Script" path="res://FRESH-FLOWERS/Scripts/refill_watering.gd" id="3_f6chr"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_1vode"]
emission_shape = 3
emission_box_extents = Vector3(2.08165e-12, 0.1, 0.1)
spread = 5.0
initial_velocity_min = 4.0
initial_velocity_max = 8.0
color = Color(0.236366, 2.3722e-05, 0.92348, 1)
collision_mode = 1
collision_friction = 0.0
collision_bounce = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vmmtl"]
render_priority = 0
shader = ExtResource("1_qahht")
shader_parameter/ColorParameter = Color(0, 0.266667, 0.533333, 1)

[sub_resource type="SphereMesh" id="SphereMesh_yn73a"]
material = SubResource("ShaderMaterial_vmmtl")
radius = 0.013
height = 0.025

[sub_resource type="BoxShape3D" id="BoxShape3D_e8yuq"]
size = Vector3(1, 5.55, 1)

[node name="RefillSpout" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5774, -5.49699, -0.124254)

[node name="WaterStream" type="GPUParticles3D" parent="."]
transform = Transform3D(-4.37114e-08, -1, 3.48787e-16, 1, -4.37114e-08, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, 0, 2.52449, 0)
amount = 800
lifetime = 1.5
process_material = SubResource("ParticleProcessMaterial_1vode")
draw_pass_1 = SubResource("SphereMesh_yn73a")

[node name="WateringRaycast" type="RayCast3D" parent="WaterStream"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0554425, -0.133795, 2.08616e-07)
target_position = Vector3(1, 2.08165e-12, 2.08165e-12)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
debug_shape_custom_color = Color(0, 0, 1, 1)

[node name="fountainRound2" parent="." instance=ExtResource("1_dfw81")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.18031, 0)

[node name="fountainRoundDetail2" parent="fountainRound2" instance=ExtResource("2_qb6tr")]

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="fountainRound2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.557617, 0)
size = Vector3(2, 0.884766, 2)

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 3
script = ExtResource("3_f6chr")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.48975, 0)
shape = SubResource("BoxShape3D_e8yuq")
